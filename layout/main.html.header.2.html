<div id=header__ID>
    <div id=vm_logo module=website_home>
        <span id=vm_logo_label_A>Business Portal</span><br>
        <span id=vm_logo_label_B>on-demand business applications</span>
    </div>
    <div id="vm_system_menu">
        <a module=website_home _class="vm_active"><i class="fa fa-home"></i> Home</a>
        <a module=website_link-1>Link 1</a>
        <div class="vm_dropdown">
            <button class="vm_dropbtn">Dropdown <i class="fa fa-caret-down"></i></button>
            <div class="vm_dropdown-content">
                <a module=website_link-2>Link 2</a>
                <a module=website_link-3>Link 3</a>
            </div>
        </div>
        <div class="vm_dropdown" id=signin__ID>
            <button class="vm_dropbtn"><i class="fa fa-user"></i> Sign In <i class="fa fa-caret-down"></i></button>
            <div class="vm_dropdown-content">
                <a id=google__ID >With your Google account</a>
                <a id=facebook__ID >With your Facebook account</a>
                <a onclick="$vm.nav_wappsystem_signin();">With your Wappsystem account</a>
            </div>
        </div>
        <a id=signout__ID style="display:none" onclick=$vm.nav_signout()><i class="fa fa-user"></i> Sign Out</a>
        <input id=vm_system_search  type="text" placeholder="Search modules..." style="margin-top:15px; margin-left:220px;border-radius: .25rem;padding-left:6px" />
    </div>
    <span module=website_home id=m_title>Business Portal</span>
    <a toggle id="vm_icon" onclick="vm_toggle()">&#9776;</a>
</div>
<script>
    function vm_toggle() {
        var x = document.getElementById("vm_system_menu");
        if(x.className==='') x.className="responsive";
        else x.className="";
    }
    $('#vm_system_menu a').on('click',function(){
        var module=$(this).attr('module');
        if(module!=undefined) $vm.nav_load_module(module);
        if( $(this).attr('toggle')==undefined){
            var x = document.getElementById("vm_system_menu");
            if(x.className==='responsive') x.className="";
        }
    })
    $('.vm_dropdown').on('click',function(){
        var d=$(this).find('.vm_dropdown-content');
        if(d.css('display')=='block') d.css('display','none');
        else d.css('display','block');
    })
    $(".vm_dropdown-content").mouseleave(function () {
        $(this).hide();
    })
    $('#m_title').on('click',function(){
        var module=$(this).attr('module');
        $vm.nav_load_module(module);
    })
    $('#vm_logo').on('click',function(){
        var module=$(this).attr('module');
        $vm.nav_load_module(module);
    })
    //---------------------------------------------
    var init_loop=setInterval(function (){
        console.log('init_loop...')
        if($vm.init_status==1){
            clearInterval(init_loop);
            show_user();
            console.log((new Date().getTime()-$vm.start_time).toString()+"---"+"********************* init is done ************************");
        }
    },100);
    //---------------------------------------------
    var show_user=function(){
        var third=""
        if($vm.user_puid=="1") third=" (Google)";
        if($vm.user_puid=="2") third=" (Facebook)";
        if($vm.user=='guest'){
            $('#username__ID').text('');
            $('#signin__ID').show();
            $('#signout__ID').hide();
        }
        else{
            $('#username__ID').text('Signed in as '+ $vm.user+third);
            $('#signin__ID').hide();
            $('#signout__ID').show();
        }
    }
    //---------------------------------------------
    if(window.location.hostname!='127.0.0.1'){

        $vm.google_signin_setup('175539446682-tvqlkse9j0mt79fk70uetoq30bpnrboa.apps.googleusercontent.com','google__ID',show_user);
        $vm.facebook_signin_setup('360182794393427','facebook__ID',show_user);
    }
    //---------------------------------------------
    if(window.innerWidth <= 800 && window.innerHeight <= 600) {
        //$('#form__ID').parent().prepend($('#form__ID'));
    }
    //---------------------------------------------
</script>
<style>
    #header__ID{
        height:100px;
        background: rgba(0,0,0,0.3);
    }
    #vm_system_menu {
        margin-top:30px;
        margin-right:20px;
        overflow: hidden;
        background: rgba(0,0,0,0.0);
        display:inline-block;
        float:right;
    }
    #vm_system_menu > a {
      float: left;
      display: block;
      color: #f2f2f2;
      text-align: center;
      padding: 14px 16px;
      text-decoration: none;
      font-size: 17px;
      cursor:pointer;
    }

    .vm_active {
      background-color: #4CAF50;
      color: white;
    }

    #vm_icon {
      display: none;
    }
    .vm_dropdown {
        float: left;
        overflow: hidden;
    }
    .vm_dropdown .vm_dropbtn {
        font-size: 17px;
        border: none;
        outline: none;
        color: white;
        padding: 14px 16px;
        background-color: inherit;
        font-family: inherit;
        margin: 0;
    }
    .vm_dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
    }
    .vm_dropdown-content a {
        float: none;
        color: black;
        padding: 5px 16px;
        text-decoration: none;
        display: block;
        text-align: left;
        cursor:pointer;
    }
    #vm_system_menu > a:hover, .vm_dropdown:hover .vm_dropbtn {
      background-color: #555;
      color: white;
      border-radius:4px;
    }
    .vm_dropdown-content a:hover {
        background-color: #ddd;
        color: black;
    }
    #m_title{
        display:none;
    }
    #vm_logo{
        display:inline-block;
        padding-top:10px;
        padding-left:20px;
        cursor:pointer;
    }
    #vm_logo_label_A{
        color:#fff;
        font-size: 195%;
    }
    #vm_logo_label_B{
        color:#fff;
        font-size: 90%;
    }
    @media screen and (max-width: 992px) {
        #m_title{
            color:#fff;
            font-size: 28px;
            display:inline-block;
            padding: 7px 0 0 12px;
            cursor: pointer;
        }
        #vm_system_menu a, .vm_dropdown .vm_dropbtn {
            display: none;
        }
        #vm_icon {
            float: right;
            display: block;
            font-size:28px;
            padding:7px 16px 3px 16px;
            position: absolute;
            right: 0;
            top: 0;
            cursor:pointer;
            color:#fff;
        }
        #vm_system_menu.responsive {position: relative;}
        #vm_system_menu.responsive a {
            float: none;
            display: block;
            text-align: left;
        }
        #vm_system_menu.responsive .vm_dropdown {float: none;}
        #vm_system_menu.responsive .vm_dropdown-content {position: relative;}
        #vm_system_menu.responsive .vm_dropdown .vm_dropbtn {
            display: block;
            width: 100%;
            text-align: left;
        }
        #vm_system_menu {
            margin-top:0px;
            margin-right:0px;
            overflow: hidden;
            background: #1c3144;
            display:block;
            float:unset;
        }
        #header__ID{
            height:unset;
            background: rgba(0,0,0,0.3);
        }
        #vm_logo{
            display:none;
        }
        #vm_system_search{
            display:none;
        }
    }
</style>
